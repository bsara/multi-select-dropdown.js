/*!
 * MultiSelectDropdown.js (0.0.0)
 *
 * Copyright (c) 2015 Brandon Sara (http://bsara.github.io)
 * Licensed under the CPOL-1.02 (https://github.com/bsara/multi-select-dropdown.js/blob/master/LICENSE.md)
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.MultiSelectDropdown=t()}(this,function(){function e(t){function n(){return o.querySelectorAll("option:not(.msd-select-all)[checked]").length}function i(){h&&n()===p.length&&d.setAttribute("checked","checked")}function r(){if(h&&null!=d.getAttribute("checked"))return void(a.innerText="All "+f+" Selected");var e=v?0:n();return 0===e?void(a.innerText=u):void(a.innerText=e+" "+(1===e?s:f)+" Selected")}function l(e){e.preventDefault(),e.stopPropagation();var t=null==this.getAttribute("checked");e.target===d&&(v=!t),null==this.getAttribute("checked")?this.setAttribute("checked","checked"):this.removeAttribute("checked"),e.target!==d&&i(),r()}function c(){return null==d.getAttribute("checked")?void this.removeAttribute("checked"):void this.setAttribute("checked","checked")}if(!(this instanceof e))return new e(t);var o,d,a,u,s,f,p,h=!1,v=!1;(function(){t=t||{},o=t.element||document.querySelector(t.selector),s=o.dataset.optionTypeLabelSingular||o.dataset.optionTypeLabel||"Option",f=o.dataset.optionTypeLabelPlural||s+"s",u=o.dataset.placeholder||"0 "+f+" Selected",p=o.querySelectorAll("option"),t.useSelectAll===!0&&(h=!0,d=document.createElement("option"),d.innerText="All",d.classList.add("msd-select-all"),d.addEventListener("click",l.bind(d)),i(),o.insertBefore(d,o.firstChild)),a=document.createElement("option"),a.selected=!0,a.classList.add("msd-placeholder"),r(),o.insertBefore(a,o.firstChild);for(var e=0;e<p.length;e++){var n=p[e];n.addEventListener("click",l.bind(n)),d.addEventListener("click",c.bind(n))}a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),o.blur()}),o.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<o.selectedOptions.length;t++)o.selectedOptions[t].selected=!1;o.value=void 0}),o.addEventListener("focus",function(e){e.preventDefault(),e.stopPropagation(),o.setAttribute("multiple","multiple"),a.selected=!1}),o.addEventListener("blur",function(e){a.selected=!0,o.removeAttribute("multiple")})}).bind(this)()}function t(){function i(e){if(e instanceof HTMLElement)return l(e);for(var t=[],n=e instanceof Array?e.splice():document.querySelectorAll(e instanceof String?e:"select.msd"),i=0;i<n.length;i++)t.push(l(n[i]));return t}function r(e){}function l(t){var i=n.getElementSelector(t);Object.hasOwnProperty(c,i)||(c[i]=[]);var r=new e({element:t});return c[i].push(r),r}if(!(this instanceof t))return new t;var c;(function(){c={},this.init=i,this.reload=r}).bind(this)()}var n={getElementSelector:function(e){if(null==e||!(e instanceof HTMLElement))throw new TypeError("$el cannot be `null` or `undefined` and must be an instance of `HTMLElement`!");var t=e.tagName;return null!=e.id&&(t+="#"+e.id),null!=e.className&&(t+="."+e.className),t}};return Object.freeze(n),{MultiSelectDropdownManager:t,MultiSelectDropdownElement:e}});
//# sourceMappingURL=multi-select-dropdown.min.js.map
