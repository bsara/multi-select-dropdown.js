/*!
 * MultiSelectDropdown.js (0.0.1)
 *
 * Copyright (c) 2015 Brandon Sara (http://bsara.github.io)
 * Licensed under the CPOL-1.02 (https://github.com/bsara/multi-select-dropdown.js/blob/master/LICENSE.md)
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.MultiSelectDropdownElement=t()}(this,function(){function e(t){function n(){return o.querySelectorAll("option:not(.msd-select-all)[checked]").length}function i(){h&&n()===f.length&&d.setAttribute("checked","checked")}function l(){if(h&&null!=d.getAttribute("checked"))return void(s.innerText="All "+p+" Selected");var e=v?0:n();return 0===e?void(s.innerText=u):void(s.innerText=e+" "+(1===e?a:p)+" Selected")}function r(e){e.preventDefault(),e.stopPropagation();var t=null==this.getAttribute("checked");e.target===d&&(v=!t),null==this.getAttribute("checked")?this.setAttribute("checked","checked"):this.removeAttribute("checked"),e.target!==d&&i(),l()}function c(){return null==d.getAttribute("checked")?void this.removeAttribute("checked"):void this.setAttribute("checked","checked")}if(!(this instanceof e))return new e(t);var o,d,s,u,a,p,f,h=!1,v=!1;(function(){t=t||{},o=t.element||document.querySelector(t.selector),a=o.dataset.optionTypeLabelSingular||o.dataset.optionTypeLabel||"Option",p=o.dataset.optionTypeLabelPlural||a+"s",u=o.dataset.placeholder||"0 "+p+" Selected",f=o.querySelectorAll("option"),t.useSelectAll===!0&&(h=!0,d=document.createElement("option"),d.innerText="All",d.classList.add("msd-select-all"),d.addEventListener("click",r.bind(d)),i(),o.insertBefore(d,o.firstChild)),s=document.createElement("option"),s.selected=!0,s.classList.add("msd-placeholder"),l(),o.insertBefore(s,o.firstChild);for(var e=0;e<f.length;e++){var n=f[e];n.addEventListener("click",r.bind(n)),d.addEventListener("click",c.bind(n))}s.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),o.blur()}),o.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<o.selectedOptions.length;t++)o.selectedOptions[t].selected=!1;o.value=void 0}),o.addEventListener("focus",function(e){e.preventDefault(),e.stopPropagation(),o.setAttribute("multiple","multiple"),s.selected=!1}),o.addEventListener("blur",function(e){s.selected=!0,o.removeAttribute("multiple")})}).bind(this)()}return e});
//# sourceMappingURL=multi-select-dropdown-element.min.js.map
